"use strict";(self.webpackChunkguardrails_docs=self.webpackChunkguardrails_docs||[]).push([[3144],{5208:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"configuration","title":"configuration","description":"title: Configuration Reference","source":"@site/versioned_docs/version-0.2.0/configuration.md","sourceDirName":".","slug":"/configuration","permalink":"/guardrails/docs/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/ovac/guardrails/edit/main/resources/docs/versioned_docs/version-0.2.0/configuration.md","tags":[],"version":"0.2.0","frontMatter":{},"sidebar":"docs","previous":{"title":"config-recipes","permalink":"/guardrails/docs/config-recipes"},"next":{"title":"custom-controllers","permalink":"/guardrails/docs/custom-controllers"}}');var o=r(4848),t=r(8453);const a={},s="Configuration Reference",d={},l=[];function c(e){const n={code:"code",h1:"h1",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"title: Configuration Reference\ndescription: Detailed explanation of every config option with defaults."}),"\n",(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configuration-reference",children:"Configuration Reference"})}),"\n",(0,o.jsx)(n.p,{children:"Publish the config file and review available options:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'php artisan vendor:publish --provider="OVAC\\\\Guardrails\\\\GuardrailsServiceProvider" --tag=guardrails-config\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Default config: ",(0,o.jsx)(n.code,{children:"config/guardrails.php"})]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-php",children:"return [\n    // Auth guard representing approvers/reviewers\n    'auth' => [\n        'guard' => env('GUARDRAILS_AUTH_GUARD', 'staff'),\n    ],\n    // API route prefix and middleware\n    'route_prefix' => env('GUARDRAILS_ROUTE_PREFIX', 'staff/v1/guardrails'),\n    'middleware' => [\n        // TIP: If you change the guard above, update this to match\n        'api', 'auth:staff', 'idempotent', 'scope.staff.country',\n    ],\n\n    // Web page prefix and middleware\n    'page_prefix' => env('GUARDRAILS_PAGE_PREFIX', 'staff/guardrails'),\n    'web_middleware' => ['web', 'auth:staff'],\n\n    // Views\n    'views' => [\n        'layout' => env('GUARDRAILS_LAYOUT', null),\n        'section' => env('GUARDRAILS_SECTION', 'content'),\n    ],\n\n    // Permissions used by routes and UI actions\n    'permissions' => [\n        'view' => 'approvals.manage',\n        'sign' => 'approvals.manage',\n    ],\n\n    // Controller helper toggle\n    'controller' => [\n        'enabled' => env('GUARDRAILS_CONTROLLER_ENABLED', true),\n    ],\n\n    // Optional: one-time console support message\n    'support' => [\n        'motd' => env('GUARDRAILS_SUPPORT_MOTD', true),\n        'github_repo' => 'ovac/guardrails',\n        'github_sponsor' => 'ovac4u',\n    ],\n];\n"})}),"\n",(0,o.jsx)(n.p,{children:"Notes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"auth.guard: The Laravel guard Guardrails uses to determine the authenticated approver. Routes default to using this guard if you don\u2019t override middleware."}),"\n",(0,o.jsx)(n.li,{children:"route_prefix: The base path for the JSON API; keep it namespaced under your staff/admin APIs."}),"\n",(0,o.jsx)(n.li,{children:"middleware: Ensure your auth guard matches your staff guard."}),"\n",(0,o.jsx)(n.li,{children:"page_prefix: The browser-facing page where reviewers can see pending requests."}),"\n",(0,o.jsx)(n.li,{children:"views.layout and views.section: Provide a layout name if you want the bundled page to yield into an app layout."}),"\n",(0,o.jsx)(n.li,{children:"permissions.view and permissions.sign: These are consulted by the routes and the UI. Map to your authorization layer (Spatie permissions recommended)."}),"\n",(0,o.jsx)(n.li,{children:"controller.enabled: Gate the controller helper so you can opt-out globally during development or certain environments."}),"\n",(0,o.jsx)(n.li,{children:"support.*: Controls the one-time console message asking to star/sponsor."}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>s});var i=r(6540);const o={},t=i.createContext(o);function a(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);